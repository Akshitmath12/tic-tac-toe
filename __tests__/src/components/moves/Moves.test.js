// Test generated by RoostGPT for test ticTacToe using AI Type Open AI and AI Model gpt-4-1106-preview

import React from 'react'
import { render, cleanup, fireEvent } from '@testing-library/react'
import Moves from '../../../components/moves/Moves'

describe('Moves component', () => {
  afterEach(cleanup)

  test('renders without crashing', () => {
    const { asFragment } = render(<Moves history={[]} jumpTo={() => {}} />)
    expect(asFragment()).toMatchSnapshot()
  })

  test('displays correct number of move buttons', () => {
    const history = [{ squares: Array(9).fill(null) }, { squares: Array(9).fill('X') }, { squares: Array(9).fill('O') }]
    const { getByText } = render(<Moves history={history} jumpTo={() => {}} />)
    expect(getByText('Go to move #1')).toBeInTheDocument()
    expect(getByText('Go to move #2')).toBeInTheDocument()
    expect(getByText('Go to game start')).toBeInTheDocument()
  })

  test('calls jumpTo with the correct move number', () => {
    const jumpTo = jest.fn()
    const moveNumber = 1
    const { getByText } = render(<Moves history={[{ squares: Array(9).fill(null) }]} jumpTo={jumpTo} />)
    fireEvent.click(getByText(`Go to move #${moveNumber}`))
    expect(jumpTo).toHaveBeenCalledTimes(1)
    expect(jumpTo).toHaveBeenCalledWith(moveNumber)
  })
})

